{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport function isMetadataEnabled() {\n  return (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === 'object' && _typeof(window.navigator) === 'object' && typeof window.navigator.userAgent === 'string' && window.navigator.userAgent.includes('Algolia Crawler') && _typeof(window.document) === 'object';\n}\nexport function getMetadataPayload(widgets, searchClient) {\n  var internalProps = ['contextValue', 'indexContextValue'];\n  var widgetsPayload = widgets.map(function (_ref) {\n    var props = _ref.props,\n        constructor = _ref.constructor;\n\n    var _ref2 = constructor._connectorDesc || {},\n        _ref2$defaultProps = _ref2.defaultProps,\n        defaultProps = _ref2$defaultProps === void 0 ? {} : _ref2$defaultProps,\n        _ref2$displayName = _ref2.displayName,\n        displayName = _ref2$displayName === void 0 ? constructor.displayName : _ref2$displayName;\n\n    return {\n      displayName: displayName,\n      params: Object.keys(props).filter(function (prop) {\n        return !internalProps.includes(prop) && defaultProps[prop] !== props[prop] && props[prop] !== undefined;\n      })\n    };\n  });\n  var client = searchClient;\n  var ua = client.transporter && client.transporter.userAgent ? client.transporter.userAgent.value : client._ua;\n  return {\n    ua: ua,\n    widgets: widgetsPayload\n  };\n}\nexport function injectMetadata(widgets, searchClient) {\n  var payloadContainer = document.createElement('meta');\n  var refNode = document.querySelector('head');\n  payloadContainer.name = 'algolia:metadata';\n  var payload = getMetadataPayload(widgets, searchClient);\n  payloadContainer.content = JSON.stringify(payload);\n  refNode.appendChild(payloadContainer);\n}","map":{"version":3,"sources":["/Users/tingting/code/tin2294/repository-search/node_modules/react-instantsearch-core/dist/es/core/metadata.js"],"names":["_typeof","isMetadataEnabled","window","navigator","userAgent","includes","document","getMetadataPayload","widgets","searchClient","internalProps","widgetsPayload","map","_ref","props","constructor","_ref2","_connectorDesc","_ref2$defaultProps","defaultProps","_ref2$displayName","displayName","params","Object","keys","filter","prop","undefined","client","ua","transporter","value","_ua","injectMetadata","payloadContainer","createElement","refNode","querySelector","name","payload","content","JSON","stringify","appendChild"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,mCAApB;AACA,OAAO,SAASC,iBAAT,GAA6B;AAClC,SAAO,CAAC,OAAOC,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8CF,OAAO,CAACE,MAAD,CAAtD,MAAoE,QAApE,IAAgFF,OAAO,CAACE,MAAM,CAACC,SAAR,CAAP,KAA8B,QAA9G,IAA0H,OAAOD,MAAM,CAACC,SAAP,CAAiBC,SAAxB,KAAsC,QAAhK,IAA4KF,MAAM,CAACC,SAAP,CAAiBC,SAAjB,CAA2BC,QAA3B,CAAoC,iBAApC,CAA5K,IAAsOL,OAAO,CAACE,MAAM,CAACI,QAAR,CAAP,KAA6B,QAA1Q;AACD;AACD,OAAO,SAASC,kBAAT,CAA4BC,OAA5B,EAAqCC,YAArC,EAAmD;AACxD,MAAIC,aAAa,GAAG,CAAC,cAAD,EAAiB,mBAAjB,CAApB;AACA,MAAIC,cAAc,GAAGH,OAAO,CAACI,GAAR,CAAY,UAAUC,IAAV,EAAgB;AAC/C,QAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;AAAA,QACIC,WAAW,GAAGF,IAAI,CAACE,WADvB;;AAGA,QAAIC,KAAK,GAAGD,WAAW,CAACE,cAAZ,IAA8B,EAA1C;AAAA,QACIC,kBAAkB,GAAGF,KAAK,CAACG,YAD/B;AAAA,QAEIA,YAAY,GAAGD,kBAAkB,KAAK,KAAK,CAA5B,GAAgC,EAAhC,GAAqCA,kBAFxD;AAAA,QAGIE,iBAAiB,GAAGJ,KAAK,CAACK,WAH9B;AAAA,QAIIA,WAAW,GAAGD,iBAAiB,KAAK,KAAK,CAA3B,GAA+BL,WAAW,CAACM,WAA3C,GAAyDD,iBAJ3E;;AAMA,WAAO;AACLC,MAAAA,WAAW,EAAEA,WADR;AAELC,MAAAA,MAAM,EAAEC,MAAM,CAACC,IAAP,CAAYV,KAAZ,EAAmBW,MAAnB,CAA0B,UAAUC,IAAV,EAAgB;AAChD,eAAO,CAAChB,aAAa,CAACL,QAAd,CAAuBqB,IAAvB,CAAD,IAAiCP,YAAY,CAACO,IAAD,CAAZ,KAAuBZ,KAAK,CAACY,IAAD,CAA7D,IAAuEZ,KAAK,CAACY,IAAD,CAAL,KAAgBC,SAA9F;AACD,OAFO;AAFH,KAAP;AAMD,GAhBoB,CAArB;AAiBA,MAAIC,MAAM,GAAGnB,YAAb;AACA,MAAIoB,EAAE,GAAGD,MAAM,CAACE,WAAP,IAAsBF,MAAM,CAACE,WAAP,CAAmB1B,SAAzC,GAAqDwB,MAAM,CAACE,WAAP,CAAmB1B,SAAnB,CAA6B2B,KAAlF,GAA0FH,MAAM,CAACI,GAA1G;AACA,SAAO;AACLH,IAAAA,EAAE,EAAEA,EADC;AAELrB,IAAAA,OAAO,EAAEG;AAFJ,GAAP;AAID;AACD,OAAO,SAASsB,cAAT,CAAwBzB,OAAxB,EAAiCC,YAAjC,EAA+C;AACpD,MAAIyB,gBAAgB,GAAG5B,QAAQ,CAAC6B,aAAT,CAAuB,MAAvB,CAAvB;AACA,MAAIC,OAAO,GAAG9B,QAAQ,CAAC+B,aAAT,CAAuB,MAAvB,CAAd;AACAH,EAAAA,gBAAgB,CAACI,IAAjB,GAAwB,kBAAxB;AACA,MAAIC,OAAO,GAAGhC,kBAAkB,CAACC,OAAD,EAAUC,YAAV,CAAhC;AACAyB,EAAAA,gBAAgB,CAACM,OAAjB,GAA2BC,IAAI,CAACC,SAAL,CAAeH,OAAf,CAA3B;AACAH,EAAAA,OAAO,CAACO,WAAR,CAAoBT,gBAApB;AACD","sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport function isMetadataEnabled() {\n  return (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === 'object' && _typeof(window.navigator) === 'object' && typeof window.navigator.userAgent === 'string' && window.navigator.userAgent.includes('Algolia Crawler') && _typeof(window.document) === 'object';\n}\nexport function getMetadataPayload(widgets, searchClient) {\n  var internalProps = ['contextValue', 'indexContextValue'];\n  var widgetsPayload = widgets.map(function (_ref) {\n    var props = _ref.props,\n        constructor = _ref.constructor;\n\n    var _ref2 = constructor._connectorDesc || {},\n        _ref2$defaultProps = _ref2.defaultProps,\n        defaultProps = _ref2$defaultProps === void 0 ? {} : _ref2$defaultProps,\n        _ref2$displayName = _ref2.displayName,\n        displayName = _ref2$displayName === void 0 ? constructor.displayName : _ref2$displayName;\n\n    return {\n      displayName: displayName,\n      params: Object.keys(props).filter(function (prop) {\n        return !internalProps.includes(prop) && defaultProps[prop] !== props[prop] && props[prop] !== undefined;\n      })\n    };\n  });\n  var client = searchClient;\n  var ua = client.transporter && client.transporter.userAgent ? client.transporter.userAgent.value : client._ua;\n  return {\n    ua: ua,\n    widgets: widgetsPayload\n  };\n}\nexport function injectMetadata(widgets, searchClient) {\n  var payloadContainer = document.createElement('meta');\n  var refNode = document.querySelector('head');\n  payloadContainer.name = 'algolia:metadata';\n  var payload = getMetadataPayload(widgets, searchClient);\n  payloadContainer.content = JSON.stringify(payload);\n  refNode.appendChild(payloadContainer);\n}"]},"metadata":{},"sourceType":"module"}